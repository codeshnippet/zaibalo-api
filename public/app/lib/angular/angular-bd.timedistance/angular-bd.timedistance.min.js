/**
 * bd.timedistance
 * @version v0.0.4 - 2015-02-24
 * @link https://github.com/mdesjardins/bd.timedistance
 * @author Mike Desjardins <mike.desjardins@cereslogic.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("bd.timedistance",[]).filter("timeDistance",function(){var a="less than",b="about",c="almost",d="over",e="a",f=["minute","minutes"],g=["hour","hours"],h=["day","days"],i=["month","months"],j=["year","years"];return function(k,l){var m=k;if(k=new Date(k),!isNaN(k)){angular.isDefined(l)||(l=new Date);{var n=Math.abs(l-k),o=Math.round(Math.abs(n/6e4));Math.round(Math.abs(n/1e3))}if(1>=o)m=0===o?a+" "+e+" "+f[0]:o+" "+f[0];else if(o>=2&&45>=o)m=o+" "+f[1];else if(o>=46&&1440>=o){var p=Math.max(Math.round(o/60),1);m=b+" "+p+" "+g[1>=p?0:1]}else if(o>=1441&&43200>=o){var q=Math.max(Math.round(o/1440),1);m=q+" "+h[1>=q?0:1]}else if(o>43201&&86400>=o){var r=Math.max(Math.round(o/43200),1);m=b+" "+r+" "+i[1>=r?0:1]}else if(o>86401&&525600>=o){var s=Math.max(Math.round(o/43200),1);m=s+" "+i[1>=s?0:1]}else{var t=function(a){return a%4===0&&a%100!==0||a%400===0},u=l.getFullYear();l.getMonth()>=2&&(u+=1);var v=l.getFullYear();k.getMonth()<2&&(v-=1);var w=o;if(u>v){for(var x=0,y=u;v>=y;y++)t(y)&&x++;w=o-1440*x}var z=w%525600,A=Math.floor(w/525600);m=131400>z?b+" "+A+" "+j[1>=A?0:1]:394200>z?d+" "+A+" "+j[1>=A?0:1]:c+" "+A+" "+j[1>=A?0:1]}}return m}});