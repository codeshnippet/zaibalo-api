<script type="text/javascript">
	function getLoginPopup(){
		var self = this;
		self.showPopup = function(loginFunction, opts){
			$('#login-button').off();
			$('#login-error').addClass('hide');
			$('#login-button').on('click', function(){
				loginFunction(opts);
			});
			$('#test_modal').modal('show');
		}
		
		self.hide = function(){
			$('#test_modal').modal('hide');
		}
		
		self.showErrorMessage = function(){
			$('#login-error').removeClass('hide');
		}
		
		return self;
	}
</script>

<div class="modal fade hide" id="test_modal">
	<div class="modal-header">
		<a class="close" data-dismiss="modal">&times;</a>
		<h3>&{'login.popup.header'}</h3>
	</div>
	<div class="modal-body">
		<input type="text" id="username" value="test" />
		<input type="text" id="password" value="secret" />
		<div class="hide" id="login-error">&{'login.popup.error'}</div>
	</div>
	<div class="modal-footer">
		<a href="#" class="btn" data-dismiss="modal">&{'cancel'}</a>
		<a href="#" class="btn btn-primary" id="login-button">&{'login'}</a>
	</div>
</div>
